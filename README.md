# 年次休暇申請アプリ（Power Platform）

## 概要
紙ベースで行われていた年次休暇申請業務をDX化するため、  
**PowerApps・Power Automate・SharePoint** を用いて  
学生用・職員用の年次休暇管理アプリケーションを開発しました。

従来は多段階承認や手作業による管理が必要でしたが、  
本アプリにより **指揮系統上最も近い指導教官への申請のみで完結**する運用を実現しました。

---

## 背景・課題
- 年次休暇申請がすべて紙で行われており、管理・確認の事務負担が大きかった  
- 学生と職員で休暇ルール（付与日数・時間換算・繰り越し）が異なり、管理が煩雑だった  
- 残数管理や履歴確認が属人化していた  

---

## 要件整理（抜粋）

### 学生
- 年次休暇：20日（うち10日は年間予定分、実質申請可能は10日）  
- 1日あたりの休暇時間：7時間50分（昼休み除外）  
- 次年度への繰り越し：不可  

### 職員
- 毎月1日に2日付与（年24日）  
- 1日あたりの休暇時間：7時間45分（昼休み除外）  
- 次年度への繰り越し：最大30日まで可能  

---

## システム構成
- **PowerApps**：申請・管理用UIの構築  
- **SharePoint**：年次休暇情報・申請履歴のデータ管理  
- **Power Automate**：年次休暇の付与・繰り越し等の定期処理  

---

## アプリ構成

### 学生用アプリ（3種）
1. 年次休暇初期登録アプリ  
2. 年次休暇申請アプリ  
3. 年次休暇管理アプリ（指導教官用）  

### 職員用アプリ（3種）
- 構成は学生用と同様  
- 休暇計算ロジックおよびデータベースを分離  

---

## 工夫した点
- 学生・職員で **アプリおよびSharePointリストを分離**し、ロジックの複雑化を防止  
- 申請期間に含まれる **休日数・昼休み回数を考慮した休暇時間計算** を実装  
- 指導教官からの要望を受け、**残数をグラフで可視化する機能を追加**  
- 毎月の休暇付与や年度更新処理を **Power Automateの定期フローで自動化**  

---

## 制約と改善案
- Power Platformの制約上、複雑な計算ロジックは可読性が低下しやすい  
- 将来的には FastAPI 等を用いた Webアプリケーションとしての再実装も検討可能  

---

## 詳細資料
本アプリの画面構成・処理フロー・設計詳細については、以下の資料にまとめています。

- `docs/annual_leave_app_overview.pdf`

---

## 使用技術
- PowerApps  
- Power Automate  
- Microsoft Forms  
- SharePoint  

---

## 補足
本アプリは **業務要件が複雑かつ短期間での導入が求められたため**、  
フルスクラッチ開発ではなく Power Platform を選択しました。  
要件定義・設計・実装・改善まで一貫して担当しています。
